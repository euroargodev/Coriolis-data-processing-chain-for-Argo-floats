Liste WMO des flotteurs à déclarer

Récupération des informations sur le site
http://www.oao.obs-vlfr.fr/BD_FLOAT/moteurRechercheFloat2.php
- feuille de présentation du flotteur (pour connaitre les capteurs montés) sauvegard en WMO_1.pdf
- feuille de MALO du flotteur (.xlsm)
- configuration MALO sauvegardée en WMO_2.txt
- s'il y a une optode, certificat de calibration
=> rangés dans les répertoires ad hoc

Renseigner Liste_Remocean_20150216.xlsx (pas utilisé par le soft mais une photographie des fichiers attendus, capteurs montés et numéros de version)
- firmware version: extraite des config at launch lors de la génération des fichiers JSON de méta-données
- coriolis version:
5.9 Eco3 (1 back + 1 CDOM) sans DOXY
5.91 Eco3 (1 back + 1 CDOM) DOXY Aanderaa standard
5.92 Eco3 (1 back + 1 CDOM) DOXY SV
6.0 Eco3 (2 back) sans DOXY => aucun flotteur à ce jour
6.01 Eco3 (2 back) DOXY SV

Charger en base les feuilles de MALO et les coefficients de calibration des optodes (y compris TempCoef qui même si pas utilisés dans les décodages, serviront pour les fichiers meta.nc)

Récupérer les informations en base via un export csv

Renseigner le fichier _provor_floats_information_co_rt.xls
Collecter les infos nécessaires à partir de l'export csv de la base (ou des meta.nc diffusés) avec generate_float_info_from_data_base_export (ou get_meta_data_prv)

Renseigner la liste des capteurs de chaque flotteur dans generate_json_float_meta_remocean, puis générer les JSON meta.
Récupérer au passage la version logicielle du flotteur.

Faire un premier décodage avec decode_provor_2_csv (pour récupérer les coefficients de calibration).
Récupérer les coefficients de calibration de l'ECO3, de l'OCR et du FLBB (indiens) pour renseigner le fichier calib_coef.xlsx
Récupérer les informations 'show mode' pour renseigner le fichier show_mode.xlsx.
Récupérer les informations 'pixel begin/end' du SUNA pour renseigner le fichier output_pixel.xlsx.

Générer les méta-données à partir des infos de la base avec generate_csv_meta_remocean.
Cela concerne les paramètres:

SENSOR
SENSOR_MAKER
SENSOR_MODEL
SENSOR_SERIAL_NO

PARAMETER
PARAMETER_SENSOR
PARAMETER_UNITS
PARAMETER_ACCURACY
PARAMETER_RESOLUTION

PREDEPLOYMENT_CALIB_EQUATION
PREDEPLOYMENT_CALIB_COEFFICIENT
PREDEPLOYMENT_CALIB_COMMENT
 
et les paramètres divers de configuration statique des capteurs soient
VECTOR_BOARD_SHOW_MODE_STATE
SENSOR_BOARD_SHOW_MODE_STATE

SUNA_APF_OUTPUT_PIXEL_BEGIN
SUNA_APF_OUTPUT_PIXEL_END

CROVER_IN_PUMPED_STREAM
CROVER_BEAM_ATT_WAVELENGTH
CROVER_VERTICAL_PRES_OFFSET

ECO_BETA_ANGLE
ECO_BETA_BANDWIDTH
ECO_BETA_WAVELENGTH

ECO_CDOM_FLUO_EMIS_BANDWIDTH
ECO_CDOM_FLUO_EMIS_WAVELENGTH
ECO_CDOM_FLUO_EXCIT_BANDWIDTH
ECO_CDOM_FLUO_EXCIT_WAVELENGTH
ECO_CHLA_FLUO_EMIS_BANDWIDTH
ECO_CHLA_FLUO_EMIS_WAVELENGTH
ECO_CHLA_FLUO_EXCIT_BANDWIDTH
ECO_CHLA_FLUO_EXCIT_WAVELENGTH
ECO_VERTICAL_PRES_OFFSET

OCR_DOWN_IRR_BANDWIDTH
OCR_DOWN_IRR_WAVELENGTH
OCR_VERTICAL_PRES_OFFSET

OPTODE_VERTICAL_PRES_OFFSET

SUNA_VERTICAL_PRES_OFFSET
SUNA_WITH_SCOOP

remplacer dans l'export de base et pour ces paramètres les infos générées.
Pour cela il faut supprimer les TECH_PARAMETER_ID
408
409
410
411
412
413
415
416
417
418
2100
2181
2182
2183
2184
2186
2188
2190
2192
2194
2195
2196
2197
2198
2199
2200
2201
2202
2203
2204
2205
2206
2207
2208
de la base pour ces flotteurs et de remplacer par les infos générées par generate_csv_meta_remocean
et 408
409
410
411
415
416
417
418
2100
2199
2202
2203
2206
2207
2208
2247
2248
2249
2250
2251
2252
2253
2254
pour les FLBB



